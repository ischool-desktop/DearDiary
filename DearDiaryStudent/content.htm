<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="js/gadget.js"></script>
    <script>
        init({
            application: "demo.ischool.h",
            paramValues: {},
            oAuth: {
                clientID: 'b88fbfbbaa848c5b5b01ce51853eac7f',
                clientSecret: '0911245ae08323086790244cd319c1c3bbde1096520154f0cbcb71f0ff76e311',
                account: 'student@demo',
                password: '1234'
            }
        });
    </script>
    <title></title>
    <script>
        var pushDiary = function () {
            var content = document.getElementById("content").value;

            gadget.getContract("dear.diary.student").send({
                service: "PushDiaryRecord",
                body: { Content: content },
                result: function (response, error, http) {
                    if (response)
                        alert(JSON.stringify(response));
                    if (error)
                        alert(JSON.stringify(error));
                }
            });
        }
    </script>
</head>
<body>
    <textarea id="content" style="width:400px;height:400px;"></textarea>
    <br />
    <input type="button" onclick="pushDiary()" value="submit" />
</body>
</html>
